(this.webpackJsonpbibleforall=this.webpackJsonpbibleforall||[]).push([[0],{17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(8),o=a.n(c),r=a(2),i=a(4),l=a.n(i),b=a(9),d=function(e){var t=Object(s.useState)(),a=Object(r.a)(t,2),n=a[0],c=a[1],o=Object(s.useState)(!0),i=Object(r.a)(o,2),d=i[0],j=i[1],u=Object(s.useState)(),h=Object(r.a)(u,2),p=h[0],O=h[1];return Object(s.useEffect)((function(){var t=new AbortController;return Object(b.a)(l.a.mark((function a(){var s,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch(e,{signal:t.signal});case 3:if((s=a.sent).ok){a.next=6;break}throw new Error(s.statusText);case 6:return n=null,a.next=9,s.json();case 9:n=a.sent,c(n),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),O(a.t0.message);case 16:return a.prev=16,j(!1),a.finish(16);case 19:case"end":return a.stop()}}),a,null,[[0,13,16,19]])})))(),function(){t.abort()}}),[e]),{data:n,isPending:d,error:p}},j=function(){var e="fd37d8f28e95d3be8cb4fbc37e15e18e",t="https://api.biblia.com/v1/bible/contents/".concat("LEB","?key=").concat(e),a=d(t).data,n=Object(s.useState)(),c=Object(r.a)(n,2),o=c[0],i=c[1];return Object(s.useEffect)((function(){if(a){var e=a.books[0];i({currentChapter:1,name:e.passage,bookIndex:0,chaptersCount:e.chapters.length})}}),[a]),{displayedBookData:o,setDisplayedBookData:i,books:null===a||void 0===a?void 0:a.books,API_KEY:e,bibleId:"LEB"}},u=a(10),h=a(0),p=function(){var e=l.a.mark(t);function t(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=1;case 1:if(!(a<=t)){e.next=7;break}return e.next=4,a;case 4:a++,e.next=1;break;case 7:case"end":return e.stop()}}),e)}var a=Object(s.useContext)(x),n=a.isShowOptionsClicked,c=a.setIsShowOptionsClicked,o=Object(s.useContext)(_).setIsPassagePending,i=Object(s.useContext)(C),b=i.books,d=i.displayedBookData,j=i.setDisplayedBookData,p=Object(s.useState)(),O=Object(r.a)(p,2),v=O[0],f=O[1];return Object(s.useEffect)((function(){f({name:d.name,chaptersCount:d.chaptersCount})}),[d]),Object(h.jsx)(h.Fragment,{children:n&&Object(h.jsxs)("div",{className:"book-select__options",children:[Object(h.jsx)("div",{className:"book-select__name-options no-visible-scrollbar",children:null===b||void 0===b?void 0:b.map((function(e,t){return Object(h.jsx)("div",{className:"btn ".concat(e.passage===v.name?"btn--active":""," book-select__name-option"),"data-name":e.passage,"data-chapter-count":e.chapters.length,onClick:function(e){var t=e.target;t.classList.contains("book-select__name-option")&&(null===f||void 0===f||f({name:t.dataset.name,chaptersCount:t.dataset.chapterCount}))},children:e.passage},t)}))}),Object(h.jsx)("div",{className:"book-select__chapter-options no-visible-scrollbar",children:Object(u.a)(t(v.chaptersCount)).map((function(e){return Object(h.jsx)("div",{className:"btn book-select__chapter-option","data-chapter":e,onClick:function(e){var t=e.target,a={};b.forEach((function(e,s){if(e.passage===v.name)return a={currentChapter:parseInt(t.dataset.chapter),name:e.passage,bookIndex:s,chaptersCount:e.chapters.length},!0})),j(a),o(!0),c(!1)},children:e},e)}))})]})})},O=function(){var e=Object(s.useContext)(C).displayedBookData,t=Object(s.useContext)(x),a=t.setShowVOTD,n=t.isShowOptionsClicked,c=t.setIsShowOptionsClicked;return Object(h.jsxs)("div",{className:"book-select",children:[Object(h.jsxs)("div",{className:"book-select__controls",children:[Object(h.jsx)("div",{className:"book-select__name-control btn ".concat(n?"btn--active":""),onClick:function(){a(!1),c((function(e){return!e}))},children:null===e||void 0===e?void 0:e.name}),Object(h.jsx)("div",{className:"book-select__chapter-control",children:null===e||void 0===e?void 0:e.currentChapter})]}),Object(h.jsx)(p,{})]})},v=function(){var e=d("https://labs.bible.org/api/?passage=votd&type=json&formatting=para").data,t=Object(s.useContext)(x),a=t.showVOTD,n=t.setShowVOTD,c=t.setIsShowOptionsClicked;return Object(h.jsxs)("div",{className:"votd ".concat(a&&"btn--active"),children:[Object(h.jsx)("div",{className:"votd__control btn",onClick:function(){c(!1),n((function(e){return!e}))},children:"VOTD"}),e&&a&&Object(h.jsxs)("div",{className:"votd__content no-visible-scrollbar",children:[Object(h.jsx)("h2",{className:"votd__header",children:"Verse(s) Of The Day"}),Object(h.jsx)("ul",{className:"votd__textlist",children:e.map((function(e,t){return Object(h.jsxs)("li",{className:"votd__text",children:[Object(h.jsxs)("div",{className:"votd__passage",children:[Object(h.jsx)("span",{children:e.bookname}),Object(h.jsxs)("span",{children:[e.chapter,":"]}),Object(h.jsx)("span",{children:e.verse})]},t),Object(h.jsx)("div",{className:"votd__passage-msg",dangerouslySetInnerHTML:{__html:e.text}})]},t)}))})]})]})},x=Object(s.createContext)(),f=function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(!1),o=Object(r.a)(c,2),i=o[0],l=o[1];return Object(h.jsx)("div",{className:"header",children:Object(h.jsxs)(x.Provider,{value:{showVOTD:i,setShowVOTD:l,isShowOptionsClicked:a,setIsShowOptionsClicked:n},children:[Object(h.jsx)(O,{}),Object(h.jsx)("div",{children:Object(h.jsx)(v,{})})]})})},g=a(3),k=function(e){var t=Object(s.useContext)(_),a=t.isPassagePending,n=t.setIsPassagePending,c=Object(s.useContext)(C),o=c.books,r=c.displayedBookData,i=c.setDisplayedBookData,l=c.API_KEY,b=c.bibleId,j=r.name,u=r.currentChapter,h=r.chaptersCount,p=function(e){e.scrollTop=0},O=function(e,t){var a=e.bookIndex,s=Object(g.a)({},e);u<h?s=Object(g.a)(Object(g.a)({},s),{},{currentChapter:u+1}):a<t.length-1&&(s=Object(g.a)(Object(g.a)({},s),{},{bookIndex:a+1,name:t[a+1].passage,currentChapter:1,chaptersCount:t[a+1].chapters.length})),i(s)},v=function(e,t){var a=e.bookIndex,s=Object(g.a)({},e);u>1?s=Object(g.a)(Object(g.a)({},s),{},{currentChapter:u-1}):a>0&&(s=Object(g.a)(Object(g.a)({},s),{},{bookIndex:a-1,name:t[a-1].passage,currentChapter:t[a-1].chapters.length,chaptersCount:t[a-1].chapters.length})),i(s)},x="https://api.biblia.com/v1/bible/content/".concat(b,".html.json?passage=").concat(j).concat(u,"&style=fullyFormatted&key=").concat(l),f=d(x),k=f.data,m=f.isPending;return Object(s.useEffect)((function(){k&&(n(!1),e.current&&p(e.current))}),[k]),{passageToShow:k,isPending:m,nextPassage:O,prevPassage:v,scrollTop:p,displayedBookData:r,isPassagePending:a,setIsPassagePending:n,handlePassageChange:function(e){var t=r.bookIndex,a=e.target;if(!a.classList.contains("view-direction"))return!1;if(n(!0),a.classList.contains("next")){if(t===o.length-1&&u===h)return n(!1);O(r,o)}else if(a.classList.contains("prev")){if(0===t&&1===u)return n(!1);v(r,o)}}}},m=function(){var e=Object(s.useRef)(),t=k(e),a=t.passageToShow,n=t.handlePassageChange;return Object(h.jsxs)("div",{className:"scripture-view",onClick:n,children:[Object(h.jsx)("div",{className:"view-direction prev btn",children:"PREV"}),a&&Object(h.jsx)("div",{className:"viewing-passage no-visible-scrollbar",ref:e,dangerouslySetInnerHTML:{__html:a.text}}),Object(h.jsx)("div",{className:"view-direction next btn",children:"NEXT"})]})},C=(a(17),Object(s.createContext)()),_=Object(s.createContext)(),P=function(){var e=Object(s.useState)(!0),t=Object(r.a)(e,2),a=t[0],n=t[1],c=j(),o=c.displayedBookData,i=c.setDisplayedBookData,l=c.books,b=c.API_KEY,d=c.bibleId;return Object(h.jsxs)(h.Fragment,{children:[o&&l&&Object(h.jsx)(_.Provider,{value:{isPassagePending:a,setIsPassagePending:n},children:Object(h.jsxs)(C.Provider,{value:{displayedBookData:o,setDisplayedBookData:i,books:l,API_KEY:b,bibleId:d},children:[Object(h.jsx)(f,{}),Object(h.jsx)(m,{})]})}),a&&Object(h.jsx)("div",{className:"pending"})]})};o.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(P,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.6211e6cd.chunk.js.map