(this.webpackJsonpbibleforall=this.webpackJsonpbibleforall||[]).push([[0],{17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(8),o=a.n(n),r=a(2),i=a(4),l=a.n(i),b=a(9),d=function(e){var t=Object(s.useState)(),a=Object(r.a)(t,2),c=a[0],n=a[1],o=Object(s.useState)(!0),i=Object(r.a)(o,2),d=i[0],j=i[1],u=Object(s.useState)(),h=Object(r.a)(u,2),p=h[0],O=h[1];return Object(s.useEffect)((function(){var t=new AbortController;return Object(b.a)(l.a.mark((function a(){var s,c;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch(e,{signal:t.signal});case 3:if((s=a.sent).ok){a.next=6;break}throw new Error(s.statusText);case 6:return c=null,a.next=9,s.json();case 9:c=a.sent,n(c),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),O(a.t0.message);case 16:return a.prev=16,j(!1),a.finish(16);case 19:case"end":return a.stop()}}),a,null,[[0,13,16,19]])})))(),function(){t.abort()}}),[e]),{data:c,isPending:d,error:p}},j=function(){var e="fd37d8f28e95d3be8cb4fbc37e15e18e",t="https://api.biblia.com/v1/bible/contents/".concat("LEB","?key=").concat(e),a=d(t).data,c=Object(s.useState)(),n=Object(r.a)(c,2),o=n[0],i=n[1];return Object(s.useEffect)((function(){if(a){var e=a.books[0];i({currentChapter:1,name:e.passage,bookIndex:0,chaptersCount:e.chapters.length})}}),[a]),{displayedBookData:o,setDisplayedBookData:i,bookList:a,API_KEY:e,bibleId:"LEB"}},u=a(10),h=a(0),p=function(){var e=l.a.mark(i),t=Object(s.useContext)(O),a=t.isSelectNameClicked,c=t.setIsSelectNameClicked,n=t.isSelectChapterClicked,o=t.setIsSelectChapterClicked;function i(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=1;case 1:if(!(a<=t)){e.next=7;break}return e.next=4,a;case 4:a++,e.next=1;break;case 7:case"end":return e.stop()}}),e)}var b=Object(s.useContext)(S).setIsPassagePending,d=Object(s.useContext)(_),j=d.bookList,p=d.displayedBookData,v=d.setDisplayedBookData,k=j.books,x=Object(s.useState)(),C=Object(r.a)(x,2),f=C[0],m=C[1];Object(s.useEffect)((function(){m({name:p.name,chaptersCount:p.chaptersCount})}),[p]);var g=a||n;return Object(h.jsx)(h.Fragment,{children:g&&Object(h.jsxs)("div",{className:"book-select__options",children:[Object(h.jsx)("div",{className:"book-select__name-options no-visible-scrollbar",children:null===k||void 0===k?void 0:k.map((function(e,t){return Object(h.jsx)("div",{className:"btn ".concat(e.passage===f.name?"btn--active":""," book-select__name-option"),"data-name":e.passage,"data-chapter-count":e.chapters.length,onClick:function(e){var t=e.target;t.classList.contains("book-select__name-option")&&(null===m||void 0===m||m({name:t.dataset.name,chaptersCount:t.dataset.chapterCount})),o(!0)},children:e.passage},t)}))}),Object(h.jsx)("div",{className:"book-select__chapter-options no-visible-scrollbar",children:n&&Object(u.a)(i(f.chaptersCount)).map((function(e){return Object(h.jsx)("div",{className:"btn book-select__chapter-option","data-chapter":e,onClick:function(e){var t=e.target,a={};j.books.forEach((function(e,s){if(e.passage===f.name)return a={currentChapter:parseInt(t.dataset.chapter),name:e.passage,bookIndex:s,chaptersCount:e.chapters.length},!0})),v(a),b(!0),c(!1),o(!1)},children:e},e)}))})]})})},O=Object(s.createContext)(),v=function(){var e=Object(s.useContext)(_).displayedBookData,t=Object(s.useContext)(x),a=t.showVOTD,c=t.setShowVOTD,n=t.isSelectNameClicked,o=t.setIsSelectNameClicked,r=t.isSelectChapterClicked,i=t.setIsSelectChapterClicked;return Object(h.jsxs)("div",{className:"book-select",onClick:function(){a&&c(!1)},children:[Object(h.jsxs)("div",{className:"book-select__controls",children:[Object(h.jsx)("div",{className:"book-select__name-control btn ".concat(n?"btn--active":""),onClick:function(){o((function(e){return!e}))},children:e&&e.name}),Object(h.jsx)("div",{className:"book-select__chapter-control btn ".concat(r?"btn--active":""),onClick:function(){i((function(e){return!e}))},children:e&&e.currentChapter})]}),Object(h.jsx)(O.Provider,{value:{isSelectNameClicked:n,setIsSelectNameClicked:o,isSelectChapterClicked:r,setIsSelectChapterClicked:i},children:Object(h.jsx)(p,{})})]})},k=function(){var e=d("https://labs.bible.org/api/?passage=votd&type=json&formatting=para").data,t=Object(s.useContext)(x),a=t.showVOTD,c=t.setShowVOTD,n=t.isSelectNameClicked,o=t.isSelectChapterClicked,r=t.setIsSelectNameClicked,i=t.setIsSelectChapterClicked;return Object(h.jsxs)("div",{className:"votd ".concat(a&&"btn--active"),children:[Object(h.jsx)("div",{className:"votd__control btn",onClick:function(){c((function(e){return!e})),(n||o)&&(r(!1),i(!1))},children:"VOTD"}),e&&Object(h.jsxs)("div",{className:"votd__content no-visible-scrollbar ".concat(!a&&"no-height"),children:[Object(h.jsx)("h2",{className:"votd__header",children:"Verse(s) Of The Day"}),Object(h.jsx)("ul",{className:"votd__textlist",children:e&&e.map((function(e,t){return Object(h.jsxs)("li",{className:"votd__text",children:[Object(h.jsxs)("div",{className:"votd__passage",children:[Object(h.jsx)("span",{children:e.bookname}),Object(h.jsxs)("span",{children:[e.chapter,":"]}),Object(h.jsx)("span",{children:e.verse})]},t),Object(h.jsx)("div",{className:"votd__passage-msg",dangerouslySetInnerHTML:{__html:e.text}})]},t)}))})]})," "]})},x=Object(s.createContext)(),C=function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(!1),o=Object(r.a)(n,2),i=o[0],l=o[1],b=Object(s.useState)(!1),d=Object(r.a)(b,2),j=d[0],u=d[1];return Object(h.jsx)("div",{className:"header",children:Object(h.jsxs)(x.Provider,{value:{isSelectNameClicked:a,setIsSelectNameClicked:c,isSelectChapterClicked:i,setIsSelectChapterClicked:l,showVOTD:j,setShowVOTD:u},children:[Object(h.jsx)(v,{}),Object(h.jsx)("div",{children:Object(h.jsx)(k,{})})]})})},f=a(3),m=function(e){var t=Object(s.useContext)(S),a=t.isPassagePending,c=t.setIsPassagePending,n=Object(s.useContext)(_),o=n.bookList,r=n.displayedBookData,i=n.setDisplayedBookData,l=n.API_KEY,b=n.bibleId,j=r.name,u=r.currentChapter,h=r.chaptersCount,p=function(e){e.scrollTop=0},O=function(e,t){var a=e.bookIndex,s=Object(f.a)({},e);u<h?s=Object(f.a)(Object(f.a)({},s),{},{currentChapter:u+1}):a<t.length-1&&(s=Object(f.a)(Object(f.a)({},s),{},{bookIndex:a+1,name:t[a+1].passage,currentChapter:1,chaptersCount:t[a+1].chapters.length})),i(s)},v=function(e,t){var a=e.bookIndex,s=Object(f.a)({},e);u>1?s=Object(f.a)(Object(f.a)({},s),{},{currentChapter:u-1}):a>0&&(s=Object(f.a)(Object(f.a)({},s),{},{bookIndex:a-1,name:t[a-1].passage,currentChapter:t[a-1].chapters.length,chaptersCount:t[a-1].chapters.length})),i(s)},k="https://api.biblia.com/v1/bible/content/".concat(b,".html.json?passage=").concat(j).concat(u,"&style=fullyFormatted&key=").concat(l),x=d(k),C=x.data,m=x.isPending;return Object(s.useEffect)((function(){C&&(c(!1),e.current&&p(e.current))}),[C]),{passageToShow:C,isPending:m,nextPassage:O,prevPassage:v,scrollTop:p,displayedBookData:r,isPassagePending:a,setIsPassagePending:c,handlePassageChange:function(e){var t=r.bookIndex,a=o.length,s=e.target;if(!s.classList.contains("view-direction"))return!1;if(c(!0),s.classList.contains("next")){if(t===a-1&&u===h)return c(!1);O(r,o.books)}else if(s.classList.contains("prev")){if(0===t&&1===u)return c(!1);v(r,o.books)}}}},g=function(){var e=Object(s.useRef)(),t=m(e),a=t.passageToShow,c=t.handlePassageChange;return Object(h.jsxs)("div",{className:"scripture-view",onClick:c,children:[Object(h.jsx)("div",{className:"view-direction prev btn",children:"PREV"}),a&&Object(h.jsx)("div",{className:"viewing-passage no-visible-scrollbar",ref:e,dangerouslySetInnerHTML:{__html:a.text}}),Object(h.jsx)("div",{className:"view-direction next btn",children:"NEXT"})]})},_=(a(17),Object(s.createContext)()),S=Object(s.createContext)(),N=function(){var e=Object(s.useState)(!0),t=Object(r.a)(e,2),a=t[0],c=t[1],n=j(),o=n.displayedBookData,i=n.setDisplayedBookData,l=n.bookList,b=n.API_KEY,d=n.bibleId;return Object(h.jsxs)(h.Fragment,{children:[o&&l&&Object(h.jsx)(S.Provider,{value:{isPassagePending:a,setIsPassagePending:c},children:Object(h.jsxs)(_.Provider,{value:{displayedBookData:o,setDisplayedBookData:i,bookList:l,API_KEY:b,bibleId:d},children:[Object(h.jsx)(C,{}),Object(h.jsx)(g,{})]})}),a&&Object(h.jsx)("div",{className:"pending"})]})};o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(N,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.bf3537f9.chunk.js.map